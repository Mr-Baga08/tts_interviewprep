# TheTruthSchool Backend Environment Variables
# Copy this file to .env and fill in your actual values

# =============================================================================
# CORE APPLICATION SETTINGS
# =============================================================================
PROJECT_NAME="TheTruthSchool API"
VERSION="1.0.0"
API_V1_STR="/api/v1"
ENVIRONMENT="development"
DEBUG=true

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
# Generate a secure secret key: openssl rand -hex 32
SECRET_KEY="your-super-secret-key-here-change-this-in-production"
ACCESS_TOKEN_EXPIRE_MINUTES=10080  # 7 days
REFRESH_TOKEN_EXPIRE_DAYS=30
ALGORITHM="HS256"

# =============================================================================
# SERVER SETTINGS
# =============================================================================
SERVER_NAME="localhost"
SERVER_HOST="http://localhost"
ALLOWED_HOSTS="localhost,127.0.0.1"

# CORS Origins (comma-separated)
BACKEND_CORS_ORIGINS="http://localhost:3000,http://localhost:3001,https://localhost:3000,https://localhost:3001"

# =============================================================================
# DATABASE SETTINGS
# =============================================================================
# PostgreSQL Configuration
POSTGRES_SERVER="localhost"
POSTGRES_USER="truthschool_user" 
POSTGRES_PASSWORD="truthschool_password"
POSTGRES_DB="truthschool_dev"
POSTGRES_PORT="5432"

# Full database URL (will be auto-generated if not provided)
# DATABASE_URL="postgresql+asyncpg://truthschool_user:truthschool_password@localhost:5432/truthschool_dev"

# =============================================================================
# REDIS SETTINGS (for caching and sessions)
# =============================================================================
REDIS_URL="redis://localhost:6379"

# =============================================================================
# EMAIL SETTINGS
# =============================================================================
SMTP_TLS=true
SMTP_PORT=587
SMTP_HOST="smtp.gmail.com"
SMTP_USER="your-email@gmail.com"
SMTP_PASSWORD="your-app-password"
EMAILS_FROM_EMAIL="noreply@thetruthschool.com"
EMAILS_FROM_NAME="TheTruthSchool"

# =============================================================================
# AI SERVICES
# =============================================================================

# OpenAI Configuration
OPENAI_API_KEY="sk-your-openai-api-key-here"
OPENAI_MODEL="gpt-4"
OPENAI_MAX_TOKENS=2000

# Google Generative AI Configuration  
GOOGLE_GENERATIVE_AI_API_KEY="your-google-ai-api-key-here"
GOOGLE_MODEL="gemini-pro"

# =============================================================================
# LIVEKIT SETTINGS (for real-time interviews)
# =============================================================================
LIVEKIT_API_KEY="your-livekit-api-key"
LIVEKIT_API_SECRET="your-livekit-api-secret"
LIVEKIT_URL="wss://truthschool.livekit.cloud"

# =============================================================================
# JUDGE0 SETTINGS (for code execution)
# =============================================================================
JUDGE0_URL="https://api.judge0.com"
# If using Judge0 via RapidAPI
JUDGE0_RAPID_API_KEY="your-rapidapi-key-here"
# If using Judge0 directly
JUDGE0_API_KEY="your-judge0-api-key"

# =============================================================================
# GOOGLE CLOUD SETTINGS
# =============================================================================
# Path to your Google Cloud service account key file
GOOGLE_APPLICATION_CREDENTIALS="/path/to/your/service-account-key.json"
# Google Cloud Storage bucket for file uploads
GCS_BUCKET_NAME="truthschool-uploads"

# =============================================================================
# OAUTH SETTINGS
# =============================================================================
# Google OAuth
GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# GitHub OAuth  
GITHUB_CLIENT_ID="your-github-client-id"
GITHUB_CLIENT_SECRET="your-github-client-secret"

# =============================================================================
# FILE UPLOAD SETTINGS
# =============================================================================
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_FILE_TYPES="pdf,docx,doc,txt"
UPLOAD_DIR="uploads"

# =============================================================================
# AI PROCESSING SETTINGS
# =============================================================================
AI_PROCESSING_TIMEOUT=300  # 5 minutes
MAX_CONCURRENT_AI_REQUESTS=10

# =============================================================================
# INTERVIEW SETTINGS
# =============================================================================
DEFAULT_INTERVIEW_DURATION=30  # minutes
MAX_INTERVIEW_DURATION=120     # minutes

# =============================================================================
# CODING CHALLENGE SETTINGS
# =============================================================================
DEFAULT_CODE_EXECUTION_TIMEOUT=10  # seconds
MAX_CODE_EXECUTION_TIMEOUT=30      # seconds

# =============================================================================
# RATE LIMITING SETTINGS
# =============================================================================
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================
LOG_LEVEL="INFO"
# Sentry DSN for error tracking (optional)
SENTRY_DSN="your-sentry-dsn-here"

# =============================================================================
# TESTING SETTINGS
# =============================================================================
TESTING=false
# Test database URL (optional - will use SQLite if not provided)
# TEST_DATABASE_URL="sqlite:///./test_truthschool.db"

# =============================================================================
# ADMIN USER SETTINGS (for initial setup)
# =============================================================================
FIRST_SUPERUSER_EMAIL="admin@thetruthschool.com"
FIRST_SUPERUSER_PASSWORD="changethispassword"

# =============================================================================
# CACHE SETTINGS
# =============================================================================
CACHE_TTL_SECONDS=300  # 5 minutes

# =============================================================================
# BACKGROUND TASKS (Celery)
# =============================================================================
CELERY_BROKER_URL="redis://localhost:6379/0"
CELERY_RESULT_BACKEND="redis://localhost:6379/0"

# =============================================================================
# PRODUCTION SETTINGS (uncomment and modify for production)
# =============================================================================
# ENVIRONMENT="production"
# DEBUG=false
# POSTGRES_SERVER="your-production-db-host"
# BACKEND_CORS_ORIGINS="https://yourdomain.com"
# ALLOWED_HOSTS="yourdomain.com,api.yourdomain.com"